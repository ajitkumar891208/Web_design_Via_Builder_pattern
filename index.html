<!--
  FoodDelivery ‚Äî Login Page (Step 1 of the builder workflow)
  - Single-file demo HTML using Tailwind CSS (via CDN) for quick preview
  - Accessible form (labels, aria attributes), client-side validation, show/hide password
  - Placeholder social login buttons and links for signup / forgot password

  Next steps (builder flow):
  1) Extract CSS and JS into separate files and add webpack/vite build step (or convert to Tailwind+PostCSS). 
  2) Create backend API endpoints for /auth/login, /auth/otp, /auth/social and connect form.
  3) Add server-side session/JWT handling, rate-limiting, and validation.
  4) Convert to React components (LoginForm, SocialButtons, AuthLayout) if you want a SPA.
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FoodExpress ‚Äî Login</title>
  <meta name="description" content="Login to FoodExpress ‚Äî Order food for home or pickup" />
  <!-- Tailwind CSS CDN for quick prototyping -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small extra styles for demo polish */
    .glass { background: rgba(255,255,255,0.55); backdrop-filter: blur(6px); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-amber-50 to-red-50 flex items-center justify-center p-6">
  <main class="w-full max-w-5xl bg-white rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2">
    <!-- LEFT: marketing / illustration -->
    <section class="hidden md:flex flex-col justify-center items-start gap-6 p-10 bg-gradient-to-b from-red-500 to-amber-500 text-white">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">üçï</div>
        <h1 class="text-2xl font-semibold">FoodExpress</h1>
      </div>

      <h2 class="text-3xl font-bold leading-tight">Hungry? We'll deliver fast.</h2>
      <p class="max-w-xs text-sm opacity-90">Order from nearby restaurants and track your delivery in real time. Offers and contactless delivery available.</p>

      <!-- simple illustration (SVG) -->
      <div aria-hidden="true" class="mt-4 w-full">
        <svg viewBox="0 0 600 400" class="w-full h-40" xmlns="http://www.w3.org/2000/svg" fill="none">
          <rect width="600" height="400" rx="24" fill="rgba(255,255,255,0.06)" />
          <g transform="translate(40,30)">
            <circle cx="140" cy="120" r="60" fill="#fff3e0" />
            <path d="M40 220c30-40 120-60 200-20" stroke="#fff3e0" stroke-width="12" stroke-linecap="round" />
            <g transform="translate(260,40)">
              <rect width="120" height="80" rx="12" fill="#fff" opacity="0.12" />
              <text x="10" y="48" fill="white" font-size="14" font-family="sans-serif">Delivery</text>
            </g>
          </g>
        </svg>
      </div>

      <p class="text-xs opacity-90">Pro tip: Use phone number for one-tap OTP login later in the builder flow.</p>
    </section>

    <!-- RIGHT: login form -->
    <section class="p-8 md:p-10 flex items-center justify-center">
      <div class="w-full max-w-md">
        <div class="mb-6 text-center">
          <div class="mx-auto w-16 h-16 rounded-full flex items-center justify-center bg-gradient-to-r from-amber-400 to-red-400 text-white text-2xl">FE</div>
          <h3 class="mt-4 text-xl font-semibold">Welcome back</h3>
          <p class="text-sm text-gray-500">Sign in to continue ordering delicious food</p>
        </div>

        <form id="loginForm" class="space-y-4" novalidate>
          <!-- email or phone -->
          <div>
            <label for="identity" class="block text-sm font-medium text-gray-700">Email or phone</label>
            <input id="identity" name="identity" type="text" inputmode="email" autocomplete="username" required
              class="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-amber-300"
              placeholder="you@example.com or 9876543210" aria-describedby="identityHelp">
            <p id="identityHelp" class="text-xs text-gray-400 mt-1">We'll send an OTP or use password to sign in.</p>
          </div>

          <!-- password -->
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
            <div class="mt-1 relative">
              <input id="password" name="password" type="password" autocomplete="current-password" required
                class="block w-full pr-12 px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-amber-300"
                placeholder="Your password">
              <button type="button" id="togglePassword" aria-label="Show password" class="absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-sm rounded">
                Show
              </button>
            </div>
          </div>

          <div class="flex items-center justify-between text-sm">
            <label class="inline-flex items-center gap-2">
              <input type="checkbox" name="remember" class="h-4 w-4 rounded border-gray-300" />
              <span>Remember me</span>
            </label>
            <a href="#" class="text-amber-600 hover:underline">Forgot password?</a>
          </div>

          <div>
            <button type="submit" class="w-full py-3 rounded-lg bg-amber-500 hover:bg-amber-600 text-white font-semibold">Sign in</button>
          </div>

          <div class="flex items-center gap-2 text-sm text-gray-400">
            <hr class="flex-1" />
            <span>or sign in with</span>
            <hr class="flex-1" />
          </div>

          <div class="grid grid-cols-2 gap-3">
            <button type="button" class="py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2"> 
              <!-- Google icon (simple) -->
              <svg width="18" height="18" viewBox="0 0 48 48" fill="none" aria-hidden>
                <path d="M44 20H24v8h11.9C34.9 30 30 36 24 36c-7 0-13-6-13-13s6-13 13-13c3.5 0 6.7 1.3 9.1 3.5l6.8-6.8C35.8 3.4 30.2 1 24 1 11.9 1 2 10.9 2 23s9.9 22 22 22c11 0 21-8.6 21-21 0-1.4-.1-2.5-.9-3z" fill="#4285F4"></path>
              </svg>
              Google
            </button>

            <button type="button" class="py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2">
              <!-- Apple icon (simple) -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
                <path d="M16 13.5c-.1-1 .4-2 1.1-2.6-1.1-1.7-2.8-1.9-3.4-1.9-.9 0-1.9.5-2.4.5-.6 0-1.5-.5-2.5-.5-2.6 0-5 2-5 5.6 0 1.6.6 3.5 1.3 4.6.9 1.3 2.1 2.8 3.6 2.8 1.5 0 2-.9 3.6-.9 1.6 0 2 .9 3.6.9 1.4 0 2.6-1.5 3.6-2.8.7-1.1 1.3-3 .1-4.8-1.1-1.6-2.7-2.2-4.6-2.6z" fill="#111"/>
              </svg>
              Apple
            </button>
          </div>

          <p class="text-xs text-center text-gray-400">Don't have an account? <a href="#" class="text-amber-600 hover:underline">Create one</a></p>

          <div id="formMessage" aria-live="polite" class="text-sm text-center mt-2"></div>
        </form>

        <!-- small legal / version -->
        <p class="mt-6 text-xs text-gray-400 text-center">By signing in you agree to our <a href="#" class="underline">Terms</a> and <a href="#" class="underline">Privacy Policy</a>.</p>
      </div>
    </section>
  </main>

  <script>
    // small helper scripts: toggle password, simple validation, demo submit handler
    (function(){
      const loginForm = document.getElementById('loginForm');
      const identity = document.getElementById('identity');
      const password = document.getElementById('password');
      const togglePassword = document.getElementById('togglePassword');
      const formMessage = document.getElementById('formMessage');

      // toggle password visibility
      togglePassword.addEventListener('click', () => {
        const isHidden = password.type === 'password';
        password.type = isHidden ? 'text' : 'password';
        togglePassword.textContent = isHidden ? 'Hide' : 'Show';
        togglePassword.setAttribute('aria-pressed', String(isHidden));
      });

      // basic identity check: email or 10-digit phone
      function isValidIdentity(value) {
        if(!value) return false;
        const phone = /^\d{10}$/; // naive phone check (10 digits)
        const email = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return phone.test(value) || email.test(value);
      }

      loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        formMessage.textContent = '';

        const idVal = identity.value.trim();
        const pwVal = password.value.trim();

        if(!isValidIdentity(idVal)){
          formMessage.textContent = 'Please enter a valid email address or 10-digit phone number.';
          formMessage.className = 'text-sm text-center mt-2 text-red-600';
          identity.focus();
          return;
        }

        if(pwVal.length < 6){
          formMessage.textContent = 'Password must be at least 6 characters.';
          formMessage.className = 'text-sm text-center mt-2 text-red-600';
          password.focus();
          return;
        }

        // Demo: show a success message. Replace this section with an actual fetch() call to /api/auth/login
        formMessage.textContent = 'Signing in...';
        formMessage.className = 'text-sm text-center mt-2 text-amber-600';

        setTimeout(() => {
          formMessage.textContent = 'Signed in (demo) ‚Äî redirecting to dashboard...';
          // In a real app: handle tokens, redirect upon success
        }, 900);
      });

    })();
  </script>
</body>
</html>
